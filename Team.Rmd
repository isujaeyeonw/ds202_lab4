---
title: 'Lab #4'
author: "Jaeyeon Won, Jay Maxwell, Alec Meyer"
output: html_document
---
<h4>DS202</h4>
<h4>Fall 2020</h4>
<hr>
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(readxl)

```

<h3>Cleaning</h3>

1. The player names and opponent names are factors.



2. All offensive and defensive statistics are numerical. The Weight column in biogrpahy is also numeric. (Optional: Learn to mutate multiple columns systematically using the ?across function in `dplyr)




3.  Change the Height column in biography into numeric. (Hint: Use a unit that works well)



```{r}
##  DATA CLEANING   ##

defense <- read_excel('cyclonesFootball2019.xlsx', sheet='Defensive')
offense <- read_excel('cyclonesFootball2019.xlsx', sheet='Offensive')
biography <- read_excel('cyclonesFootball2019.xlsx', sheet='Biography')


## i have been trying to figure out to use the across() function to 
## do this to multiple columns, have not had any luck!!  :(
defClean <- defense %>%
  mutate(Name = factor(Name),
         Opponent_Opponent=factor(Opponent_Opponent),
         Tackles_Solo = as.numeric(Tackles_Solo),
         Tackles_ASST = as.numeric(Tackles_ASST),
         Tackles_TFL = as.numeric(Tackles_TFL),
         Tackles_Sack = as.numeric(Tackles_Sack),
         Turnover_FF = as.numeric(Turnover_FF),
         Turnover_INT = as.numeric(Turnover_INT),
         Turnover_FR = as.numeric(Turnover_FR),
         Pass_QBH = as.numeric(Pass_QBH),
         Pass_PB = as.numeric(Pass_PB))

## maybe one of you can figure out how to use the across to get
## the other rows without having to type them all out?
offClean <- offense %>%
  mutate(Name = factor(Name),
         Opponent_Opponent = factor(Opponent_Opponent))

bioClean <- biography %>%
  mutate(Weight = as.numeric(Weight))

str(defClean)
str(offClean)
str(bioClean)

```


<hr>
<h3>Tidying</h3>



1. Reformat the defClean data frame into a tidy format using pivot_longer. The type of statistic (Tackles_Solo, Tackles_ASST, etc) is added as a new key column named stat.


2. Compare the distributions of the defensive statistics. What defensive skills are rare?



3. Did ISU have better defense against Iowa or Notre Dame? Answer this question by creating a scatterplot with x- and y-axes being the number of solo tackles (of each player). A large number of solo tackles is an indicator of good defense.




4. Separate the Hometown column into two columns, namely the city and the state. Print the first few rows of these two columns. (Hint: look at the sep= argument of separate)



5. How many players are there from each state?

```{r}
##  DATA TIDYING   ##

```



<hr>
<h3>Joining</h3>



1. Find which states do the ISU defensive and offensive players come from. Create an appropriate summary.


2. How does the performance of quarterback Brock Purdy relate to the performance of the ISU team?


3. Which ISU player(s) made big progress over the last year? Compare the 2019 and the 2018 data here.

```{r}
##  DATA Joining   ##

```




